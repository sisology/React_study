<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>01_state-basic</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
    // state
    // : 컴포넌트 내부에서 바뀔 수 있는 값을 의미한다.
    // props는 부모 컴포넌트가 설정하는 값이지만, state는 컴포넌트 내부에서 설정되는 값이다.

    // 클래스형 컴포넌트에서는 state를 직접 사용할 수 있다.
    // 함수형 컴포넌트에서는 useState라는 hooks로 별도 기능을 제공하고 있다.

    class Counter extends React.Component {

        // 컴포넌트 생성 시 가장 먼저 호출되는 생성자 함수
        constructor(props) {
            // 부모 컴포넌트로부터 전달받은 props를 부모 클래스의 생성자에 전달하며 컴포넌트를 생성
            super(props);

            // state를 초기화 한다. 생성자 내부에서 초기화 할 경우 this.을 반드시 붙여서 작성한다.
            // 이름은 state로 작성해야 하며, 저장되는 값의 형태는 반드시 Object 리터럴의 형태로 작성한다.
            this.state = {
                number : 0,
                test : 'hello'
            };
        }

        render() {

            const {number} = this.state;

            // state 값 변경을 위해 set 함수를 사용한다.
            // 새로운 상태 값을 가진 Object를 동일한 키로 설정하여 인자를 전달하면 state 객체를 덮어쓴다.
            // 기존 state에 여러 값들이 있더라도 동일한 키를 가진 값만 덮어쓰게 된다.
            console.log(this.state);
            return (
                <>
                    <h1
                        style={ number < 0 ? {color:'red'} : {color:'blue'}}
                    >Count : {number}</h1>
                    <button
                        onClick={ () => this.setState({ number : number - 1 }) }
                    >
                        -1
                    </button>
                    <button
                        onClick={ () => this.setState({ number : number + 1 }) }
                    >
                        +1
                    </button>
                </>
            );
        }
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<Counter/>);
</script>

</body>
</html>